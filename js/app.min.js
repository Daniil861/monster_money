(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(s){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible"));const s=document.querySelector(".preloader"),t=document.querySelector(".wrapper"),a=document.querySelectorAll(".info__heart");let o,n=document.querySelector(".header__count");sessionStorage.getItem("lifes")?5==sessionStorage.getItem("lifes")&&document.querySelector(".header__lifes")&&document.querySelector(".header__lifes").classList.add("_not-active"):sessionStorage.setItem("lifes",3),sessionStorage.getItem("points")?n.textContent=sessionStorage.getItem("points"):sessionStorage.setItem("points",500),document.querySelector(".game_one")?sessionStorage.setItem("shield",1):document.querySelector(".game_two")?sessionStorage.setItem("shield",2):document.querySelector(".game_three")&&sessionStorage.setItem("shield",3),document.querySelector(".main_levels")&&(sessionStorage.getItem("game-one")&&document.querySelector(".main__button_two").classList.add("_visible"),sessionStorage.getItem("game-two")&&document.querySelector(".main__button_three").classList.add("_visible")),document.addEventListener("click",(e=>{let a=e.target;if(a.closest(".acces-preloader__button")&&(sessionStorage.setItem("preloader",!0),location.href="index.html",setTimeout((()=>{s.classList.add("_hide"),t.classList.add("_visible")}),50)),a.closest(".header__button")){let e=sessionStorage.getItem("points"),s=+sessionStorage.getItem("lifes");document.querySelector(".header__button").classList.add("_not-active"),setTimeout((()=>{document.querySelector(".header__button").classList.remove("_not-active")}),1500),e>=5e3&&s<5&&(sessionStorage.setItem("lifes",s+1),n.textContent=e-5e3,sessionStorage.setItem("points",n.innerHTML),s>=4&&document.querySelector(".header__lifes").classList.add("_not-active")),5==s&&function(){let e=document.createElement("div");e.classList.add("header__message"),e.textContent="Max lifes is open - 5",document.querySelector(".header__lifes").append(e),setTimeout((()=>{e.remove()}),1500)}()}a.closest(".controls__button_left")&&(clearInterval(o),o=setInterval((()=>{L(),_%i==0||m[_-1].classList.contains("wall")||m[_-1].classList.contains("ghost-lair")||(_-=1),m[_].classList.add("_pac-left"),m[_].classList.add("pac-man"),d&&m[_].classList.add("_shield"),g()}),250)),a.closest(".controls__button_top")&&(clearInterval(o),o=setInterval((()=>{L(),_-i>=0&&!m[_-i].classList.contains("wall")&&!m[_-i].classList.contains("ghost-lair")&&(_-=i),m[_].classList.add("_pac-up"),m[_].classList.add("pac-man"),d&&m[_].classList.add("_shield"),g()}),250)),a.closest(".controls__button_right")&&(clearInterval(o),o=setInterval((()=>{L(),_%i<26&&!m[_+1].classList.contains("wall")&&!m[_+1].classList.contains("ghost-lair")&&(_+=1),m[_].classList.add("_pac-right"),m[_].classList.add("pac-man"),d&&m[_].classList.add("_shield"),g()}),250)),a.closest(".controls__button_bottom")&&(clearInterval(o),o=setInterval((()=>{L(),_+i<729&&!m[_+i].classList.contains("wall")&&!m[_+i].classList.contains("ghost-lair")&&(_+=i),m[_].classList.add("_pac-down"),m[_].classList.add("pac-man"),d&&m[_].classList.add("_shield"),g()}),250)),a.closest(".info__shield img")&&function(){let e=+sessionStorage.getItem("shield");e>0&&(d=!0,e--,sessionStorage.setItem("shield",e),document.querySelector(".info__try").textContent=`X${e}`,0==e&&document.querySelector(".info__shield").classList.add("_not-active"),setTimeout((()=>{d=!1,m[_].classList.remove("_shield")}),5e3))}()}));const c=gsap.timeline({defaults:{duration:1,ease:Power1.easeOut}});document.querySelector(".main__images_left")&&document.querySelector(".main__images_right")&&(c.fromTo(".main__item_center",{y:100,opacity:0},{y:0,opacity:1}),c.fromTo(".header",{y:-100,opacity:0},{y:0,opacity:1},"<"),c.fromTo(".main__images_left",{y:-500},{y:0,ease:"elastic.out(1, 0.4",duration:2,delay:.8}),c.fromTo(".main__images_right",{y:-500},{y:0,ease:"elastic.out(1, 0.4",duration:2,delay:.8},"<"),c.fromTo(".main__flower_left",{scale:0,x:100,rotation:"180deg"},{scale:1,x:0,rotation:0,duration:.3}),c.fromTo(".main__flower_right",{scale:0,x:-100,rotation:"-180deg"},{scale:1,x:0,rotation:0,duration:.3}));const r=document.querySelector(".game__grid"),i=27;let l;var d=!1;document.querySelector(".game_one")?l=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,8,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]:document.querySelector(".game_two")?l=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,9,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,8,0,0,0,0,0,0,1,3,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,3,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,9,0,0,0,1,0,0,0,0,9,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,9,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]:document.querySelector(".game_three")&&(l=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,8,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,5,0,0,0,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,8,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,9,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,9,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,5,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,9,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]);const m=[];let u,_=418;function g(){!function(){if(m[_].classList.contains("pac-dot")){let e=document.querySelector(".header__count");e.textContent=+e.innerHTML+10,sessionStorage.setItem("points",e.innerHTML),m[_].classList.remove("pac-dot")}else if(m[_].classList.contains("pac-big-dot")){let e=document.querySelector(".header__count");e.textContent=+e.innerHTML+30,sessionStorage.setItem("points",e.innerHTML),m[_].classList.remove("pac-big-dot")}}(),function(){if(m[_].classList.contains("power-banan")||m[_].classList.contains("power-cherry")||m[_].classList.contains("power-lemon")||m[_].classList.contains("power-slotmashine")){let e=document.querySelector(".header__count");e.textContent=+e.innerHTML+100,sessionStorage.setItem("points",e.innerHTML),u.forEach((e=>e.isScared=!0)),setTimeout((()=>{u.forEach((e=>e.isScared=!1))}),1e4),m[_].classList.contains("power-banan")?m[_].classList.remove("power-banan"):m[_].classList.contains("power-cherry")?m[_].classList.remove("power-cherry"):m[_].classList.contains("power-lemon")?m[_].classList.remove("power-lemon"):m[_].classList.contains("power-slotmashine")&&m[_].classList.remove("power-slotmashine")}}(),I(),function(){let e=document.querySelectorAll(".pac-big-dot"),s=document.querySelectorAll(".power-banan"),t=document.querySelectorAll(".power-cherry"),a=document.querySelectorAll(".power-lemon"),o=document.querySelectorAll(".power-slotmashine");0==e.length&&0==s.length&&0==t.length&&0==a.length&&0==o.length&&(u.forEach((e=>clearInterval(e.timerId))),document.querySelector(".play").classList.add("_active"),document.querySelector(".game_one")?sessionStorage.setItem("game-one",!0):document.querySelector(".game_two")&&sessionStorage.setItem("game-two",!0))}()}function L(){m[_].classList.contains("_pac-up")?(m[_].classList.remove("_pac-up"),m[_].classList.remove("pac-man")):m[_].classList.contains("_pac-right")?(m[_].classList.remove("_pac-right"),m[_].classList.remove("pac-man")):m[_].classList.contains("_pac-down")?(m[_].classList.remove("_pac-down"),m[_].classList.remove("pac-man")):m[_].classList.contains("_pac-left")&&(m[_].classList.remove("_pac-left"),m[_].classList.remove("pac-man")),d&&m[_].classList.remove("_shield")}document.querySelector(".game")&&(!function(){for(let e=0;e<l.length;e++){const s=document.createElement("div");r.appendChild(s),m.push(s),0==l[e]?m[e].classList.add("pac-dot"):1==l[e]?m[e].classList.add("wall"):2==l[e]?m[e].classList.add("ghost-lair"):3==l[e]?m[e].classList.add("power-banan"):5==l[e]?m[e].classList.add("power-cherry"):6==l[e]?m[e].classList.add("pac-big-dot"):8==l[e]?m[e].classList.add("power-lemon"):9==l[e]&&m[e].classList.add("power-slotmashine")}}(),sessionStorage.setItem("game-lifes",sessionStorage.getItem("lifes")),m[_].classList.add("pac-man"),m[_].classList.add("_pac-right"));class h{constructor(e,s,t){this.className=e,this.startIndex=s,this.speed=t,this.currentIndex=s,this.timerId=NaN,this.isScared=!1}}function p(e){const s=[-1,1,i,-27];let t=s[Math.floor(Math.random()*(s.length-0)+0)];m[e.currentIndex].classList.remove("ghost"),m[e.currentIndex].classList.contains("blinky")&&m[e.currentIndex].classList.remove("blinky"),m[e.currentIndex].classList.contains("pinky")&&m[e.currentIndex].classList.remove("pinky"),m[e.currentIndex].classList.contains("inky")&&m[e.currentIndex].classList.remove("inky"),m[e.currentIndex].classList.contains("clyde")&&m[e.currentIndex].classList.remove("clyde"),e.timerId=setInterval((function(){if(m[e.currentIndex+t].classList.contains("wall")||m[e.currentIndex+t].classList.contains("ghost"))t=s[Math.floor(Math.random()*(s.length-0)+0)];else{m[e.currentIndex].classList.contains("_left")?m[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_left"):m[e.currentIndex].classList.contains("_right")?m[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_right"):m[e.currentIndex].classList.contains("_up")?m[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_up"):m[e.currentIndex].classList.contains("_down")&&m[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_down");let s=t;e.currentIndex+=s,-1==s?m[e.currentIndex].classList.add(e.className,"ghost","_left"):1==s?m[e.currentIndex].classList.add(e.className,"ghost","_right"):-27==s?m[e.currentIndex].classList.add(e.className,"ghost","_up"):s==i&&m[e.currentIndex].classList.add(e.className,"ghost","_down")}e.isScared&&m[e.currentIndex].classList.add("scared-ghost"),(e.isScared&&m[e.currentIndex].classList.contains("pac-man-left")||m[e.currentIndex].classList.contains("pac-man-right")||m[e.currentIndex].classList.contains("pac-man-up")&&m[e.currentIndex].classList.contains("pac-man-down"))&&(m[e.currentIndex].classList.contains("_left")?m[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_left"):m[e.currentIndex].classList.contains("_right")?m[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_right"):m[e.currentIndex].classList.contains("_up")?m[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_up"):m[e.currentIndex].classList.contains("_down")&&m[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_down"),e.currentIndex=e.startIndex,m[e.currentIndex].classList.add(e.className,"ghost","_left")),I()}),e.speed)}function I(){if(m[_].classList.contains("ghost")&&!m[_].classList.contains("scared-ghost")&&!m[_].classList.contains("_shield")){u.forEach((e=>clearInterval(e.timerId))),L(),clearInterval(o),document.querySelector(".controls__buttons").classList.add("_not-active");let e=+sessionStorage.getItem("game-lifes");e<=0&&document.querySelector(".loose").classList.add("_active"),e--,document.querySelectorAll(".info__heart").forEach(((s,t)=>{t==e&&s.classList.add("_hide")})),sessionStorage.setItem("game-lifes",e),setTimeout((()=>{m[418].classList.add("pac-man"),m[418].classList.add("_pac-right"),_=418,document.querySelector(".controls__buttons").classList.remove("_not-active")}),1e3),setTimeout((()=>{u.forEach((e=>p(e)))}),3e3)}}document.querySelector(".game_one")?u=[new h("blinky",252,250),new h("pinky",29,400)]:document.querySelector(".game_two")?u=[new h("blinky",252,250),new h("pinky",29,400),new h("inky",500,300)]:document.querySelector(".game_three")&&(u=[new h("blinky",252,100),new h("pinky",29,250),new h("inky",500,200),new h("clyde",535,250),new h("clyde",260,250)]),document.querySelector(".game")&&(u.forEach((e=>{m[e.currentIndex].classList.add(e.className),m[e.currentIndex].classList.add("ghost")})),u.forEach((e=>p(e))),sessionStorage.getItem("lifes")>3&&document.querySelector(".info__hearts").classList.add("_small"),3==sessionStorage.getItem("lifes")?a.forEach(((e,s)=>{s<=2&&e.classList.add("_visible")})):4==sessionStorage.getItem("lifes")&&a.forEach(((e,s)=>{s<=3&&e.classList.add("_visible")})),5==sessionStorage.getItem("lifes")&&a.forEach(((e,s)=>{s<=4&&e.classList.add("_visible")}))),window.FLS=!0,function(e){let s=new Image;s.onload=s.onerror=function(){e(2==s.height)},s.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let s=!0===e?"webp":"no-webp";document.documentElement.classList.add(s)}))})();