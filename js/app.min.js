(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible"));const t=document.querySelector(".preloader"),s=document.querySelector(".wrapper"),n=document.querySelectorAll(".info__heart");let o,a=document.querySelector(".header__count");function c(){1==sessionStorage.getItem("active-level")?L=[new m(_(5,23),_(100,350)),new m(_(5,23),_(100,350)),new m(_(5,23),_(100,350)),new m(_(5,23),_(100,350)),new m(_(5,23),_(100,350)),new m(_(5,23),_(100,350)),new m(_(5,23),_(100,350)),new m(_(5,23),_(100,350))]:2==sessionStorage.getItem("active-level")?L=[new m(_(5,23),_(150,350)),new m(_(5,23),_(150,350)),new m(_(5,23),_(150,350)),new m(_(5,23),_(150,350))]:3==sessionStorage.getItem("active-level")&&(L=[new m(_(5,23),_(200,350)),new m(_(5,23),_(200,350))]),1==sessionStorage.getItem("active-level")?(u[L[0].currentIndex].classList.add("balls"),setTimeout((()=>{u[L[1].currentIndex].classList.add("balls")}),1e3),setTimeout((()=>{u[L[2].currentIndex].classList.add("balls")}),2e3),setTimeout((()=>{u[L[3].currentIndex].classList.add("balls")}),3e3),setTimeout((()=>{u[L[4].currentIndex].classList.add("balls")}),4e3),setTimeout((()=>{u[L[5].currentIndex].classList.add("balls")}),5e3),setTimeout((()=>{u[L[6].currentIndex].classList.add("balls")}),6e3),setTimeout((()=>{u[L[7].currentIndex].classList.add("balls")}),7e3)):1==sessionStorage.getItem("active-level")?(u[L[0].currentIndex].classList.add("balls"),setTimeout((()=>{u[L[1].currentIndex].classList.add("balls")}),1e3),setTimeout((()=>{u[L[2].currentIndex].classList.add("balls")}),2e3),setTimeout((()=>{u[L[3].currentIndex].classList.add("balls")}),3e3)):3==sessionStorage.getItem("active-level")&&(u[L[0].currentIndex].classList.add("balls"),setTimeout((()=>{u[L[1].currentIndex].classList.add("balls")}),1e3)),L.forEach((e=>function(e){const t=[1,-1];e.timerId=setInterval((function(){if(u[e.currentIndex].classList.remove("balls"),u[e.currentIndex+29].classList.contains("ball-white")){let s=t[Math.floor(2*Math.random()+0)];e.currentIndex+=s,u[e.currentIndex].classList.add("balls")}else{let t=29;e.currentIndex+=t,u[e.currentIndex].classList.add("balls")}!function(e){u[e.currentIndex+v].classList.contains("multiply-25")?(clearInterval(e.timerId),u[e.currentIndex].classList.add("_hide"),I(".bonus__box_25",g(25))):u[e.currentIndex+v].classList.contains("multiply-5")?(clearInterval(e.timerId),u[e.currentIndex].classList.add("_hide"),I(".bonus__box_5",g(5))):u[e.currentIndex+v].classList.contains("multiply-0-5")?(clearInterval(e.timerId),u[e.currentIndex].classList.add("_hide"),I(".bonus__box_05",g(.5))):u[e.currentIndex+v].classList.contains("multiply-1-5")?(clearInterval(e.timerId),u[e.currentIndex].classList.add("_hide"),I(".bonus__box_15",g(1.5))):u[e.currentIndex+v].classList.contains("multiply-1-75")?(clearInterval(e.timerId),u[e.currentIndex].classList.add("_hide"),I(".bonus__box_17",g(1.75))):u[e.currentIndex+v].classList.contains("multiply-10")?(clearInterval(e.timerId),u[e.currentIndex].classList.add("_hide"),I(".bonus__box_10",g(10))):u[e.currentIndex+v].classList.contains("multiply-3")&&(clearInterval(e.timerId),u[e.currentIndex].classList.add("_hide"),I(".bonus__box_3",g(3)))}(e)}),e.speed)}(e))),function(){if(1==sessionStorage.getItem("active-level")){let e=sessionStorage.getItem("points");a.textContent=+e-100,sessionStorage.setItem("points",a.innerHTML)}else if(2==sessionStorage.getItem("active-level")){let e=sessionStorage.getItem("points");a.textContent=+e-250,sessionStorage.setItem("points",a.innerHTML)}else if(3==sessionStorage.getItem("active-level")){let e=sessionStorage.getItem("points");a.textContent=+e-500,sessionStorage.setItem("points",a.innerHTML)}}(),document.querySelector(".bonus__sand").classList.add("_not-active"),a.classList.add("_minus-money"),setTimeout((()=>{document.querySelector(".bonus__sand").classList.remove("_not-active"),a.classList.remove("_minus-money")}),5e3)}sessionStorage.getItem("lifes")?5==sessionStorage.getItem("lifes")&&document.querySelector(".header__lifes")&&document.querySelector(".header__lifes").classList.add("_not-active"):sessionStorage.setItem("lifes",3),sessionStorage.getItem("points")?a.textContent=sessionStorage.getItem("points"):sessionStorage.setItem("points",500),document.querySelector(".game_one")?sessionStorage.setItem("shield",1):document.querySelector(".game_two")?sessionStorage.setItem("shield",2):document.querySelector(".game_three")&&sessionStorage.setItem("shield",3),document.querySelector(".main_levels")&&(sessionStorage.getItem("game-one")&&document.querySelector(".main__button_two").classList.add("_visible"),sessionStorage.getItem("game-two")&&document.querySelector(".main__button_three").classList.add("_visible")),document.querySelector(".bonus")&&(document.querySelector(".bonus__button_liner").classList.add("_active"),sessionStorage.setItem("active-level",1)),document.addEventListener("click",(e=>{let n=e.target;if(n.closest(".acces-preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),s.classList.add("_visible"),r()),n.closest(".header__button")){let e=sessionStorage.getItem("points"),t=+sessionStorage.getItem("lifes");document.querySelector(".header__button").classList.add("_not-active"),setTimeout((()=>{document.querySelector(".header__button").classList.remove("_not-active")}),1500),e>=5e3&&t<5&&(sessionStorage.setItem("lifes",t+1),a.textContent=e-5e3,sessionStorage.setItem("points",a.innerHTML),t>=4&&document.querySelector(".header__lifes").classList.add("_not-active")),e<5e3&&t<5&&(a.classList.add("_no-money"),setTimeout((()=>{a.classList.remove("_no-money")}),1e3)),5==t&&function(){let e=document.createElement("div");e.classList.add("header__message"),e.textContent="You have maximum lifes - 5",document.querySelector(".header__lifes").append(e),setTimeout((()=>{e.remove()}),1500)}()}n.closest(".controls__button_left")&&(clearInterval(o),o=setInterval((()=>{w(),f%v==0||y[f-1].classList.contains("wall")||y[f-1].classList.contains("ghost-lair")||(f-=1),y[f].classList.add("_pac-left"),y[f].classList.add("pac-man"),S&&y[f].classList.add("_shield"),x()}),250)),n.closest(".controls__button_top")&&(clearInterval(o),o=setInterval((()=>{w(),f-v>=0&&!y[f-v].classList.contains("wall")&&!y[f-v].classList.contains("ghost-lair")&&(f-=v),y[f].classList.add("_pac-up"),y[f].classList.add("pac-man"),S&&y[f].classList.add("_shield"),x()}),250)),n.closest(".controls__button_right")&&(clearInterval(o),o=setInterval((()=>{w(),f%v<v-1&&!y[f+1].classList.contains("wall")&&!y[f+1].classList.contains("ghost-lair")&&(f+=1),y[f].classList.add("_pac-right"),y[f].classList.add("pac-man"),S&&y[f].classList.add("_shield"),x()}),250)),n.closest(".controls__button_bottom")&&(clearInterval(o),o=setInterval((()=>{w(),f+v<v*v&&!y[f+v].classList.contains("wall")&&!y[f+v].classList.contains("ghost-lair")&&(f+=v),y[f].classList.add("_pac-down"),y[f].classList.add("pac-man"),S&&y[f].classList.add("_shield"),x()}),250)),n.closest(".info__shield img")&&function(){let e=+sessionStorage.getItem("shield");e>0&&(S=!0,e--,sessionStorage.setItem("shield",e),document.querySelector(".info__try").textContent=`X${e}`,0==e&&document.querySelector(".info__shield").classList.add("_not-active"),setTimeout((()=>{S=!1,y[f].classList.remove("_shield")}),5e3))}(),n.closest(".bonus__button_liner")&&(document.querySelector(".bonus__button_mid").classList.contains("_active")?document.querySelector(".bonus__button_mid").classList.remove("_active"):document.querySelector(".bonus__button_high").classList.contains("_active")&&document.querySelector(".bonus__button_high").classList.remove("_active"),document.querySelector(".bonus__button_liner").classList.add("_active"),sessionStorage.setItem("active-level",1)),n.closest(".bonus__button_mid")&&(document.querySelector(".bonus__button_liner").classList.contains("_active")?document.querySelector(".bonus__button_liner").classList.remove("_active"):document.querySelector(".bonus__button_high").classList.contains("_active")&&document.querySelector(".bonus__button_high").classList.remove("_active"),document.querySelector(".bonus__button_mid").classList.add("_active"),sessionStorage.setItem("active-level",2)),n.closest(".bonus__button_high")&&(document.querySelector(".bonus__button_liner").classList.contains("_active")?document.querySelector(".bonus__button_liner").classList.remove("_active"):document.querySelector(".bonus__button_mid").classList.contains("_active")&&document.querySelector(".bonus__button_mid").classList.remove("_active"),document.querySelector(".bonus__button_high").classList.add("_active"),sessionStorage.setItem("active-level",3)),n.closest(".bonus__sand")&&(1==sessionStorage.getItem("active-level")&&sessionStorage.getItem("points")>=100||2==sessionStorage.getItem("active-level")&&sessionStorage.getItem("points")>=250||3==sessionStorage.getItem("active-level")&&sessionStorage.getItem("points")>=500?c():(a.classList.add("_no-money"),setTimeout((()=>{a.classList.remove("_no-money")}),1e3)))}));const i=gsap.timeline({defaults:{duration:1,ease:Power1.easeOut}});function r(){i.fromTo(".main__item_center",{y:100,opacity:0},{y:0,opacity:1}),i.fromTo(".header",{y:-100,opacity:0},{y:0,opacity:1},"<"),i.fromTo(".main__images_left",{y:-500},{y:0,ease:"elastic.out(1, 0.4",duration:2}),i.fromTo(".main__images_right",{y:-500},{y:0,ease:"elastic.out(1, 0.4",duration:2},"<"),i.fromTo(".main__flower_left",{scale:0,x:100,rotation:"180deg"},{scale:1,x:0,rotation:0,duration:.3}),i.fromTo(".main__flower_right",{scale:0,x:-100,rotation:"-180deg"},{scale:1,x:0,rotation:0,duration:.3})}sessionStorage.getItem("preloader")&&document.querySelector(".main__images_left")&&r();const l=document.querySelector(".bonus__field");let d=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8];const u=[];document.querySelector(".bonus")&&function(){for(let e=0;e<d.length;e++){const t=document.createElement("div");l.appendChild(t),u.push(t),0==d[e]?u[e].classList.add("ball-white"):2==d[e]?u[e].classList.add("multiply-25"):3==d[e]?u[e].classList.add("multiply-5"):4==d[e]?u[e].classList.add("multiply-0-5"):5==d[e]?u[e].classList.add("multiply-1-5"):6==d[e]?u[e].classList.add("multiply-1-75"):7==d[e]?u[e].classList.add("multiply-10"):8==d[e]&&u[e].classList.add("multiply-3")}}();class m{constructor(e,t){this.startIndex=e,this.speed=t,this.currentIndex=e,this.timerId=NaN}}function _(e,t){return Math.floor(Math.random()*(t-e)+e)}let L;function g(e){return 1==sessionStorage.getItem("active-level")?(a.textContent=+a.innerHTML+Math.floor(10*e),sessionStorage.setItem("points",a.innerHTML),Math.floor(10*e)):2==sessionStorage.getItem("active-level")?(a.textContent=+a.innerHTML+Math.floor(25*e),sessionStorage.setItem("points",a.innerHTML),Math.floor(25*e)):3==sessionStorage.getItem("active-level")?(a.textContent=+a.innerHTML+Math.floor(50*e),sessionStorage.setItem("points",a.innerHTML),Math.floor(50*e)):void 0}function I(e,t){let s=document.createElement("div");s.classList.add("bonus__text"),s.textContent=`+${t}`,document.querySelector(e).append(s),setTimeout((()=>{s.remove()}),1e3)}const h=document.querySelector(".game__grid"),v=27;let p;var S=!1;document.querySelector(".game_one")?p=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,8,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]:document.querySelector(".game_two")?p=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,9,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,8,0,0,0,0,0,0,1,3,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,3,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,9,0,0,0,1,0,0,0,0,9,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,9,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]:document.querySelector(".game_three")&&(p=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,8,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,5,0,0,0,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,8,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,9,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,9,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,5,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,9,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]);const y=[];let b,f=418;function x(){!function(){if(y[f].classList.contains("pac-dot")){let e=document.querySelector(".header__count");e.textContent=+e.innerHTML+10,sessionStorage.setItem("points",e.innerHTML),y[f].classList.remove("pac-dot")}else if(y[f].classList.contains("pac-big-dot")){let e=document.querySelector(".header__count");e.textContent=+e.innerHTML+30,sessionStorage.setItem("points",e.innerHTML),q("stone-orange.svg",30),y[f].classList.remove("pac-big-dot")}}(),function(){if(y[f].classList.contains("power-banan")||y[f].classList.contains("power-cherry")||y[f].classList.contains("power-lemon")||y[f].classList.contains("power-slotmashine")){let e=document.querySelector(".header__count");e.classList.add("_anim"),setTimeout((()=>{e.classList.remove("_anim")}),1500),b.forEach((e=>e.isScared=!0)),setTimeout((()=>{b.forEach((e=>e.isScared=!1))}),5e3),y[f].classList.contains("power-banan")?(y[f].classList.remove("power-banan"),e.textContent=+e.innerHTML+150,sessionStorage.setItem("points",e.innerHTML),q("banan.png",150)):y[f].classList.contains("power-cherry")?(e.textContent=+e.innerHTML+200,sessionStorage.setItem("points",e.innerHTML),q("cherry.svg",200),y[f].classList.remove("power-cherry")):y[f].classList.contains("power-lemon")?(y[f].classList.remove("power-lemon"),e.textContent=+e.innerHTML+100,sessionStorage.setItem("points",e.innerHTML),q("lemon.png",100)):y[f].classList.contains("power-slotmashine")&&(e.textContent=+e.innerHTML+250,sessionStorage.setItem("points",e.innerHTML),q("slotmashine.png",250),y[f].classList.remove("power-slotmashine"))}}(),A(),function(){let e=document.querySelectorAll(".pac-big-dot"),t=document.querySelectorAll(".power-banan"),s=document.querySelectorAll(".power-cherry"),n=document.querySelectorAll(".power-lemon"),o=document.querySelectorAll(".power-slotmashine");0==e.length&&0==t.length&&0==s.length&&0==n.length&&0==o.length&&(b.forEach((e=>clearInterval(e.timerId))),document.querySelector(".play").classList.add("_active"),document.querySelector(".game_one")?sessionStorage.setItem("game-one",!0):document.querySelector(".game_two")&&sessionStorage.setItem("game-two",!0))}()}function w(){y[f].classList.contains("_pac-up")?(y[f].classList.remove("_pac-up"),y[f].classList.remove("pac-man")):y[f].classList.contains("_pac-right")?(y[f].classList.remove("_pac-right"),y[f].classList.remove("pac-man")):y[f].classList.contains("_pac-down")?(y[f].classList.remove("_pac-down"),y[f].classList.remove("pac-man")):y[f].classList.contains("_pac-left")&&(y[f].classList.remove("_pac-left"),y[f].classList.remove("pac-man")),S&&y[f].classList.remove("_shield")}function q(e,t){let s=document.createElement("div");s.classList.add("controls__bonus-item");let n=document.createElement("div");n.classList.add("controls__image");let o=document.createElement("img");o.setAttribute("src",`img/game/${e}`);let a=document.createElement("div");a.classList.add("controls__count"),a.textContent=`+${t}`,n.append(o),s.append(n,a),document.querySelector(".game__controls").append(s),setTimeout((()=>{s.remove()}),2500)}document.querySelector(".game")&&(!function(){for(let e=0;e<p.length;e++){const t=document.createElement("div");h.appendChild(t),y.push(t),0==p[e]?y[e].classList.add("pac-dot"):1==p[e]?y[e].classList.add("wall"):2==p[e]?y[e].classList.add("ghost-lair"):3==p[e]?y[e].classList.add("power-banan"):5==p[e]?y[e].classList.add("power-cherry"):6==p[e]?y[e].classList.add("pac-big-dot"):8==p[e]?y[e].classList.add("power-lemon"):9==p[e]&&y[e].classList.add("power-slotmashine")}}(),sessionStorage.setItem("game-lifes",sessionStorage.getItem("lifes")),y[f].classList.add("pac-man"),y[f].classList.add("_pac-right"));class T{constructor(e,t,s){this.className=e,this.startIndex=t,this.speed=s,this.currentIndex=t,this.timerId=NaN,this.isScared=!1}}function M(e){const t=[-1,1,v,-v];let s=t[Math.floor(Math.random()*(t.length-0)+0)];y[e.currentIndex].classList.remove("ghost"),y[e.currentIndex].classList.contains("blinky")&&y[e.currentIndex].classList.remove("blinky"),y[e.currentIndex].classList.contains("pinky")&&y[e.currentIndex].classList.remove("pinky"),y[e.currentIndex].classList.contains("inky")&&y[e.currentIndex].classList.remove("inky"),y[e.currentIndex].classList.contains("clyde")&&y[e.currentIndex].classList.remove("clyde"),e.timerId=setInterval((function(){if(y[e.currentIndex+s].classList.contains("wall")||y[e.currentIndex+s].classList.contains("ghost"))s=t[Math.floor(Math.random()*(t.length-0)+0)];else{y[e.currentIndex].classList.contains("_left")?y[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_left"):y[e.currentIndex].classList.contains("_right")?y[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_right"):y[e.currentIndex].classList.contains("_up")?y[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_up"):y[e.currentIndex].classList.contains("_down")&&y[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_down");let t=s;e.currentIndex+=t,-1==t?y[e.currentIndex].classList.add(e.className,"ghost","_left"):1==t?y[e.currentIndex].classList.add(e.className,"ghost","_right"):t==-v?y[e.currentIndex].classList.add(e.className,"ghost","_up"):t==v&&y[e.currentIndex].classList.add(e.className,"ghost","_down")}e.isScared&&y[e.currentIndex].classList.add("scared-ghost"),(e.isScared&&y[e.currentIndex].classList.contains("_pac-left")||e.isScared&&y[e.currentIndex].classList.contains("_pac-right")||e.isScared&&y[e.currentIndex].classList.contains("_pac-up")||e.isScared&&y[e.currentIndex].classList.contains("_pac-down"))&&(y[e.currentIndex].classList.contains("_left")?y[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_left"):y[e.currentIndex].classList.contains("_right")?y[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_right"):y[e.currentIndex].classList.contains("_up")?y[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_up"):y[e.currentIndex].classList.contains("_down")&&y[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_down"),e.currentIndex=e.startIndex,y[e.currentIndex].classList.add(e.className,"ghost","_left")),A()}),e.speed)}function A(){if(y[f].classList.contains("ghost")&&!y[f].classList.contains("scared-ghost")&&!y[f].classList.contains("_shield")){b.forEach((e=>clearInterval(e.timerId))),w(),clearInterval(o),document.querySelector(".controls__buttons").classList.add("_not-active");let e=+sessionStorage.getItem("game-lifes");e<=0&&document.querySelector(".loose").classList.add("_active"),e--,document.querySelectorAll(".info__heart").forEach(((t,s)=>{s==e&&t.classList.add("_hide")})),sessionStorage.setItem("game-lifes",e),setTimeout((()=>{y[418].classList.add("pac-man"),y[418].classList.add("_pac-right"),f=418,document.querySelector(".controls__buttons").classList.remove("_not-active")}),1e3),setTimeout((()=>{b.forEach((e=>M(e)))}),3e3)}}document.querySelector(".game_one")?b=[new T("blinky",252,250),new T("pinky",29,400)]:document.querySelector(".game_two")?b=[new T("blinky",252,250),new T("pinky",29,400),new T("inky",500,300)]:document.querySelector(".game_three")&&(b=[new T("blinky",252,100),new T("pinky",29,250),new T("inky",500,200),new T("clyde",535,250),new T("clyde",260,250)]),document.querySelector(".game")&&(b.forEach((e=>{y[e.currentIndex].classList.add(e.className),y[e.currentIndex].classList.add("ghost")})),setTimeout((()=>{b.forEach((e=>M(e)))}),2e3),sessionStorage.getItem("lifes")>3&&document.querySelector(".info__hearts").classList.add("_small"),3==sessionStorage.getItem("lifes")?n.forEach(((e,t)=>{t<=2&&e.classList.add("_visible")})):4==sessionStorage.getItem("lifes")&&n.forEach(((e,t)=>{t<=3&&e.classList.add("_visible")})),5==sessionStorage.getItem("lifes")&&n.forEach(((e,t)=>{t<=4&&e.classList.add("_visible")}))),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();