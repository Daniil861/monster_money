(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible"));const t=document.querySelector(".preloader"),s=document.querySelector(".wrapper"),n=document.querySelectorAll(".info__heart");let o,a=document.querySelector(".header__count");function c(){1==sessionStorage.getItem("active-level")?_=[new u(m(5,23),m(100,350)),new u(m(5,23),m(100,350)),new u(m(5,23),m(100,350)),new u(m(5,23),m(100,350)),new u(m(5,23),m(100,350)),new u(m(5,23),m(100,350)),new u(m(5,23),m(100,350)),new u(m(5,23),m(100,350))]:2==sessionStorage.getItem("active-level")?_=[new u(m(5,23),m(150,350)),new u(m(5,23),m(150,350)),new u(m(5,23),m(150,350)),new u(m(5,23),m(150,350))]:3==sessionStorage.getItem("active-level")&&(_=[new u(m(5,23),m(200,350)),new u(m(5,23),m(200,350))]),1==sessionStorage.getItem("active-level")?(d[_[0].currentIndex].classList.add("balls"),setTimeout((()=>{d[_[1].currentIndex].classList.add("balls")}),1e3),setTimeout((()=>{d[_[2].currentIndex].classList.add("balls")}),2e3),setTimeout((()=>{d[_[3].currentIndex].classList.add("balls")}),3e3),setTimeout((()=>{d[_[4].currentIndex].classList.add("balls")}),4e3),setTimeout((()=>{d[_[5].currentIndex].classList.add("balls")}),5e3),setTimeout((()=>{d[_[6].currentIndex].classList.add("balls")}),6e3),setTimeout((()=>{d[_[7].currentIndex].classList.add("balls")}),7e3)):1==sessionStorage.getItem("active-level")?(d[_[0].currentIndex].classList.add("balls"),setTimeout((()=>{d[_[1].currentIndex].classList.add("balls")}),1e3),setTimeout((()=>{d[_[2].currentIndex].classList.add("balls")}),2e3),setTimeout((()=>{d[_[3].currentIndex].classList.add("balls")}),3e3)):3==sessionStorage.getItem("active-level")&&(d[_[0].currentIndex].classList.add("balls"),setTimeout((()=>{d[_[1].currentIndex].classList.add("balls")}),1e3)),_.forEach((e=>function(e){const t=[1,-1];e.timerId=setInterval((function(){if(d[e.currentIndex].classList.remove("balls"),d[e.currentIndex+h].classList.contains("ball-white")){let s=t[Math.floor(2*Math.random()+0)];e.currentIndex+=s,d[e.currentIndex].classList.add("balls")}else{let t=h+2;e.currentIndex+=t,d[e.currentIndex].classList.add("balls")}!function(e){d[e.currentIndex+h].classList.contains("multiply-25")?(clearInterval(e.timerId),d[e.currentIndex].classList.add("_hide"),g(".bonus__box_25",L(25))):d[e.currentIndex+h].classList.contains("multiply-5")?(clearInterval(e.timerId),d[e.currentIndex].classList.add("_hide"),g(".bonus__box_5",L(5))):d[e.currentIndex+h].classList.contains("multiply-0-5")?(clearInterval(e.timerId),d[e.currentIndex].classList.add("_hide"),g(".bonus__box_05",L(.5))):d[e.currentIndex+h].classList.contains("multiply-1-5")?(clearInterval(e.timerId),d[e.currentIndex].classList.add("_hide"),g(".bonus__box_15",L(1.5))):d[e.currentIndex+h].classList.contains("multiply-1-75")?(clearInterval(e.timerId),d[e.currentIndex].classList.add("_hide"),g(".bonus__box_17",L(1.75))):d[e.currentIndex+h].classList.contains("multiply-10")?(clearInterval(e.timerId),d[e.currentIndex].classList.add("_hide"),g(".bonus__box_10",L(10))):d[e.currentIndex+h].classList.contains("multiply-3")&&(clearInterval(e.timerId),d[e.currentIndex].classList.add("_hide"),g(".bonus__box_3",L(3)))}(e)}),e.speed)}(e))),function(){if(1==sessionStorage.getItem("active-level")){let e=sessionStorage.getItem("points");a.textContent=+e-100,sessionStorage.setItem("points",a.innerHTML)}else if(2==sessionStorage.getItem("active-level")){let e=sessionStorage.getItem("points");a.textContent=+e-250,sessionStorage.setItem("points",a.innerHTML)}else if(3==sessionStorage.getItem("active-level")){let e=sessionStorage.getItem("points");a.textContent=+e-500,sessionStorage.setItem("points",a.innerHTML)}}(),document.querySelector(".bonus__sand").classList.add("_not-active"),a.classList.add("_minus-money"),setTimeout((()=>{document.querySelector(".bonus__sand").classList.remove("_not-active"),a.classList.remove("_minus-money")}),5e3)}sessionStorage.getItem("lifes")?5==sessionStorage.getItem("lifes")&&document.querySelector(".header__lifes")&&document.querySelector(".header__lifes").classList.add("_not-active"):sessionStorage.setItem("lifes",3),sessionStorage.getItem("points")?a.textContent=sessionStorage.getItem("points"):sessionStorage.setItem("points",500),document.querySelector(".game_one")?sessionStorage.setItem("shield",1):document.querySelector(".game_two")?sessionStorage.setItem("shield",2):document.querySelector(".game_three")&&sessionStorage.setItem("shield",3),document.querySelector(".main_levels")&&(sessionStorage.getItem("game-one")&&document.querySelector(".main__button_two").classList.add("_visible"),sessionStorage.getItem("game-two")&&document.querySelector(".main__button_three").classList.add("_visible")),document.querySelector(".bonus")&&(document.querySelector(".bonus__button_liner").classList.add("_active"),sessionStorage.setItem("active-level",1)),document.addEventListener("click",(e=>{let n=e.target;if(n.closest(".acces-preloader__button")&&(sessionStorage.setItem("preloader",!0),location.href="index.html",setTimeout((()=>{t.classList.add("_hide"),s.classList.add("_visible")}),50)),n.closest(".header__button")){let e=sessionStorage.getItem("points"),t=+sessionStorage.getItem("lifes");document.querySelector(".header__button").classList.add("_not-active"),setTimeout((()=>{document.querySelector(".header__button").classList.remove("_not-active")}),1500),e>=5e3&&t<5&&(sessionStorage.setItem("lifes",t+1),a.textContent=e-5e3,sessionStorage.setItem("points",a.innerHTML),t>=4&&document.querySelector(".header__lifes").classList.add("_not-active")),e<5e3&&t<5&&(a.classList.add("_no-money"),setTimeout((()=>{a.classList.remove("_no-money")}),1e3)),5==t&&function(){let e=document.createElement("div");e.classList.add("header__message"),e.textContent="You have maximum lifes - 5",document.querySelector(".header__lifes").append(e),setTimeout((()=>{e.remove()}),1500)}()}n.closest(".controls__button_left")&&(clearInterval(o),o=setInterval((()=>{x(),b%h==0||p[b-1].classList.contains("wall")||p[b-1].classList.contains("ghost-lair")||(b-=1),p[b].classList.add("_pac-left"),p[b].classList.add("pac-man"),S&&p[b].classList.add("_shield"),f()}),250)),n.closest(".controls__button_top")&&(clearInterval(o),o=setInterval((()=>{x(),b-h>=0&&!p[b-h].classList.contains("wall")&&!p[b-h].classList.contains("ghost-lair")&&(b-=h),p[b].classList.add("_pac-up"),p[b].classList.add("pac-man"),S&&p[b].classList.add("_shield"),f()}),250)),n.closest(".controls__button_right")&&(clearInterval(o),o=setInterval((()=>{x(),b%h<h-1&&!p[b+1].classList.contains("wall")&&!p[b+1].classList.contains("ghost-lair")&&(b+=1),p[b].classList.add("_pac-right"),p[b].classList.add("pac-man"),S&&p[b].classList.add("_shield"),f()}),250)),n.closest(".controls__button_bottom")&&(clearInterval(o),o=setInterval((()=>{x(),b+h<h*h&&!p[b+h].classList.contains("wall")&&!p[b+h].classList.contains("ghost-lair")&&(b+=h),p[b].classList.add("_pac-down"),p[b].classList.add("pac-man"),S&&p[b].classList.add("_shield"),f()}),250)),n.closest(".info__shield img")&&function(){let e=+sessionStorage.getItem("shield");e>0&&(S=!0,e--,sessionStorage.setItem("shield",e),document.querySelector(".info__try").textContent=`X${e}`,0==e&&document.querySelector(".info__shield").classList.add("_not-active"),setTimeout((()=>{S=!1,p[b].classList.remove("_shield")}),5e3))}(),n.closest(".bonus__button_liner")&&(document.querySelector(".bonus__button_mid").classList.contains("_active")?document.querySelector(".bonus__button_mid").classList.remove("_active"):document.querySelector(".bonus__button_high").classList.contains("_active")&&document.querySelector(".bonus__button_high").classList.remove("_active"),document.querySelector(".bonus__button_liner").classList.add("_active"),sessionStorage.setItem("active-level",1)),n.closest(".bonus__button_mid")&&(document.querySelector(".bonus__button_liner").classList.contains("_active")?document.querySelector(".bonus__button_liner").classList.remove("_active"):document.querySelector(".bonus__button_high").classList.contains("_active")&&document.querySelector(".bonus__button_high").classList.remove("_active"),document.querySelector(".bonus__button_mid").classList.add("_active"),sessionStorage.setItem("active-level",2)),n.closest(".bonus__button_high")&&(document.querySelector(".bonus__button_liner").classList.contains("_active")?document.querySelector(".bonus__button_liner").classList.remove("_active"):document.querySelector(".bonus__button_mid").classList.contains("_active")&&document.querySelector(".bonus__button_mid").classList.remove("_active"),document.querySelector(".bonus__button_high").classList.add("_active"),sessionStorage.setItem("active-level",3)),n.closest(".bonus__sand")&&(1==sessionStorage.getItem("active-level")&&sessionStorage.getItem("points")>=100||2==sessionStorage.getItem("active-level")&&sessionStorage.getItem("points")>=250||3==sessionStorage.getItem("active-level")&&sessionStorage.getItem("points")>=500?c():(a.classList.add("_no-money"),setTimeout((()=>{a.classList.remove("_no-money")}),1e3)))}));const i=gsap.timeline({defaults:{duration:1,ease:Power1.easeOut}});document.querySelector(".main__images_left")&&document.querySelector(".main__images_right")&&(i.fromTo(".main__item_center",{y:100,opacity:0},{y:0,opacity:1}),i.fromTo(".header",{y:-100,opacity:0},{y:0,opacity:1},"<"),i.fromTo(".main__images_left",{y:-500},{y:0,ease:"elastic.out(1, 0.4",duration:2}),i.fromTo(".main__images_right",{y:-500},{y:0,ease:"elastic.out(1, 0.4",duration:2},"<"),i.fromTo(".main__flower_left",{scale:0,x:100,rotation:"180deg"},{scale:1,x:0,rotation:0,duration:.3}),i.fromTo(".main__flower_right",{scale:0,x:-100,rotation:"-180deg"},{scale:1,x:0,rotation:0,duration:.3}));const r=document.querySelector(".bonus__field");let l=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8];const d=[];document.querySelector(".bonus")&&function(){for(let e=0;e<l.length;e++){const t=document.createElement("div");r.appendChild(t),d.push(t),0==l[e]?d[e].classList.add("ball-white"):2==l[e]?d[e].classList.add("multiply-25"):3==l[e]?d[e].classList.add("multiply-5"):4==l[e]?d[e].classList.add("multiply-0-5"):5==l[e]?d[e].classList.add("multiply-1-5"):6==l[e]?d[e].classList.add("multiply-1-75"):7==l[e]?d[e].classList.add("multiply-10"):8==l[e]&&d[e].classList.add("multiply-3")}}();class u{constructor(e,t){this.startIndex=e,this.speed=t,this.currentIndex=e,this.timerId=NaN}}function m(e,t){return Math.floor(Math.random()*(t-e)+e)}let _;function L(e){return 1==sessionStorage.getItem("active-level")?(a.textContent=+a.innerHTML+Math.floor(10*e),sessionStorage.setItem("points",a.innerHTML),Math.floor(10*e)):2==sessionStorage.getItem("active-level")?(a.textContent=+a.innerHTML+Math.floor(25*e),sessionStorage.setItem("points",a.innerHTML),Math.floor(25*e)):3==sessionStorage.getItem("active-level")?(a.textContent=+a.innerHTML+Math.floor(50*e),sessionStorage.setItem("points",a.innerHTML),Math.floor(50*e)):void 0}function g(e,t){let s=document.createElement("div");s.classList.add("bonus__text"),s.textContent=`+${t}`,document.querySelector(e).append(s),setTimeout((()=>{s.remove()}),1e3)}const I=document.querySelector(".game__grid"),h=27;let v;var S=!1;document.querySelector(".game_one")?v=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,8,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]:document.querySelector(".game_two")?v=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,9,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,8,0,0,0,0,0,0,1,3,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,3,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,9,0,0,0,1,0,0,0,0,9,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,9,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]:document.querySelector(".game_three")&&(v=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,8,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,5,0,0,0,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,8,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,9,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,9,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,5,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,9,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]);const p=[];let y,b=418;function f(){!function(){if(p[b].classList.contains("pac-dot")){let e=document.querySelector(".header__count");e.textContent=+e.innerHTML+10,sessionStorage.setItem("points",e.innerHTML),p[b].classList.remove("pac-dot")}else if(p[b].classList.contains("pac-big-dot")){let e=document.querySelector(".header__count");e.textContent=+e.innerHTML+30,sessionStorage.setItem("points",e.innerHTML),w("stone-orange.svg",30),p[b].classList.remove("pac-big-dot")}}(),function(){if(p[b].classList.contains("power-banan")||p[b].classList.contains("power-cherry")||p[b].classList.contains("power-lemon")||p[b].classList.contains("power-slotmashine")){let e=document.querySelector(".header__count");e.classList.add("_anim"),setTimeout((()=>{e.classList.remove("_anim")}),1500),y.forEach((e=>e.isScared=!0)),setTimeout((()=>{y.forEach((e=>e.isScared=!1))}),5e3),p[b].classList.contains("power-banan")?(p[b].classList.remove("power-banan"),e.textContent=+e.innerHTML+150,sessionStorage.setItem("points",e.innerHTML),w("banan.png",150)):p[b].classList.contains("power-cherry")?(e.textContent=+e.innerHTML+200,sessionStorage.setItem("points",e.innerHTML),w("cherry.svg",200),p[b].classList.remove("power-cherry")):p[b].classList.contains("power-lemon")?(p[b].classList.remove("power-lemon"),e.textContent=+e.innerHTML+100,sessionStorage.setItem("points",e.innerHTML),w("lemon.png",100)):p[b].classList.contains("power-slotmashine")&&(e.textContent=+e.innerHTML+250,sessionStorage.setItem("points",e.innerHTML),w("slotmashine.png",250),p[b].classList.remove("power-slotmashine"))}}(),M(),function(){let e=document.querySelectorAll(".pac-big-dot"),t=document.querySelectorAll(".power-banan"),s=document.querySelectorAll(".power-cherry"),n=document.querySelectorAll(".power-lemon"),o=document.querySelectorAll(".power-slotmashine");0==e.length&&0==t.length&&0==s.length&&0==n.length&&0==o.length&&(y.forEach((e=>clearInterval(e.timerId))),document.querySelector(".play").classList.add("_active"),document.querySelector(".game_one")?sessionStorage.setItem("game-one",!0):document.querySelector(".game_two")&&sessionStorage.setItem("game-two",!0))}()}function x(){p[b].classList.contains("_pac-up")?(p[b].classList.remove("_pac-up"),p[b].classList.remove("pac-man")):p[b].classList.contains("_pac-right")?(p[b].classList.remove("_pac-right"),p[b].classList.remove("pac-man")):p[b].classList.contains("_pac-down")?(p[b].classList.remove("_pac-down"),p[b].classList.remove("pac-man")):p[b].classList.contains("_pac-left")&&(p[b].classList.remove("_pac-left"),p[b].classList.remove("pac-man")),S&&p[b].classList.remove("_shield")}function w(e,t){let s=document.createElement("div");s.classList.add("controls__bonus-item");let n=document.createElement("div");n.classList.add("controls__image");let o=document.createElement("img");o.setAttribute("src",`img/game/${e}`);let a=document.createElement("div");a.classList.add("controls__count"),a.textContent=`+${t}`,n.append(o),s.append(n,a),document.querySelector(".game__controls").append(s),setTimeout((()=>{s.remove()}),2500)}document.querySelector(".game")&&(!function(){for(let e=0;e<v.length;e++){const t=document.createElement("div");I.appendChild(t),p.push(t),0==v[e]?p[e].classList.add("pac-dot"):1==v[e]?p[e].classList.add("wall"):2==v[e]?p[e].classList.add("ghost-lair"):3==v[e]?p[e].classList.add("power-banan"):5==v[e]?p[e].classList.add("power-cherry"):6==v[e]?p[e].classList.add("pac-big-dot"):8==v[e]?p[e].classList.add("power-lemon"):9==v[e]&&p[e].classList.add("power-slotmashine")}}(),sessionStorage.setItem("game-lifes",sessionStorage.getItem("lifes")),p[b].classList.add("pac-man"),p[b].classList.add("_pac-right"));class q{constructor(e,t,s){this.className=e,this.startIndex=t,this.speed=s,this.currentIndex=t,this.timerId=NaN,this.isScared=!1}}function T(e){const t=[-1,1,h,-h];let s=t[Math.floor(Math.random()*(t.length-0)+0)];p[e.currentIndex].classList.remove("ghost"),p[e.currentIndex].classList.contains("blinky")&&p[e.currentIndex].classList.remove("blinky"),p[e.currentIndex].classList.contains("pinky")&&p[e.currentIndex].classList.remove("pinky"),p[e.currentIndex].classList.contains("inky")&&p[e.currentIndex].classList.remove("inky"),p[e.currentIndex].classList.contains("clyde")&&p[e.currentIndex].classList.remove("clyde"),e.timerId=setInterval((function(){if(p[e.currentIndex+s].classList.contains("wall")||p[e.currentIndex+s].classList.contains("ghost"))s=t[Math.floor(Math.random()*(t.length-0)+0)];else{p[e.currentIndex].classList.contains("_left")?p[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_left"):p[e.currentIndex].classList.contains("_right")?p[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_right"):p[e.currentIndex].classList.contains("_up")?p[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_up"):p[e.currentIndex].classList.contains("_down")&&p[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_down");let t=s;e.currentIndex+=t,-1==t?p[e.currentIndex].classList.add(e.className,"ghost","_left"):1==t?p[e.currentIndex].classList.add(e.className,"ghost","_right"):t==-h?p[e.currentIndex].classList.add(e.className,"ghost","_up"):t==h&&p[e.currentIndex].classList.add(e.className,"ghost","_down")}e.isScared&&p[e.currentIndex].classList.add("scared-ghost"),(e.isScared&&p[e.currentIndex].classList.contains("_pac-left")||e.isScared&&p[e.currentIndex].classList.contains("_pac-right")||e.isScared&&p[e.currentIndex].classList.contains("_pac-up")||e.isScared&&p[e.currentIndex].classList.contains("_pac-down"))&&(p[e.currentIndex].classList.contains("_left")?p[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_left"):p[e.currentIndex].classList.contains("_right")?p[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_right"):p[e.currentIndex].classList.contains("_up")?p[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_up"):p[e.currentIndex].classList.contains("_down")&&p[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_down"),e.currentIndex=e.startIndex,p[e.currentIndex].classList.add(e.className,"ghost","_left")),M()}),e.speed)}function M(){if(p[b].classList.contains("ghost")&&!p[b].classList.contains("scared-ghost")&&!p[b].classList.contains("_shield")){y.forEach((e=>clearInterval(e.timerId))),x(),clearInterval(o),document.querySelector(".controls__buttons").classList.add("_not-active");let e=+sessionStorage.getItem("game-lifes");e<=0&&document.querySelector(".loose").classList.add("_active"),e--,document.querySelectorAll(".info__heart").forEach(((t,s)=>{s==e&&t.classList.add("_hide")})),sessionStorage.setItem("game-lifes",e),setTimeout((()=>{p[418].classList.add("pac-man"),p[418].classList.add("_pac-right"),b=418,document.querySelector(".controls__buttons").classList.remove("_not-active")}),1e3),setTimeout((()=>{y.forEach((e=>T(e)))}),3e3)}}document.querySelector(".game_one")?y=[new q("blinky",252,250),new q("pinky",29,400)]:document.querySelector(".game_two")?y=[new q("blinky",252,250),new q("pinky",29,400),new q("inky",500,300)]:document.querySelector(".game_three")&&(y=[new q("blinky",252,100),new q("pinky",29,250),new q("inky",500,200),new q("clyde",535,250),new q("clyde",260,250)]),document.querySelector(".game")&&(y.forEach((e=>{p[e.currentIndex].classList.add(e.className),p[e.currentIndex].classList.add("ghost")})),setTimeout((()=>{y.forEach((e=>T(e)))}),2e3),sessionStorage.getItem("lifes")>3&&document.querySelector(".info__hearts").classList.add("_small"),3==sessionStorage.getItem("lifes")?n.forEach(((e,t)=>{t<=2&&e.classList.add("_visible")})):4==sessionStorage.getItem("lifes")&&n.forEach(((e,t)=>{t<=3&&e.classList.add("_visible")})),5==sessionStorage.getItem("lifes")&&n.forEach(((e,t)=>{t<=4&&e.classList.add("_visible")}))),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();