(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible"));const t=document.querySelector(".preloader"),s=document.querySelector(".wrapper"),n=document.querySelectorAll(".info__heart");let a,c=document.querySelector(".header__count");sessionStorage.getItem("lifes")?5==sessionStorage.getItem("lifes")&&document.querySelector(".header__lifes")&&document.querySelector(".header__lifes").classList.add("_not-active"):sessionStorage.setItem("lifes",3),sessionStorage.getItem("points")?c.textContent=sessionStorage.getItem("points"):sessionStorage.setItem("points",15e3),document.addEventListener("click",(e=>{let n=e.target;if(n.closest(".acces-preloader__button")&&(t.classList.add("_hide"),sessionStorage.setItem("preloader",!0),s.classList.add("_visible")),n.closest(".header__button")){let e=sessionStorage.getItem("points"),t=+sessionStorage.getItem("lifes");document.querySelector(".header__button").classList.add("_not-active"),setTimeout((()=>{document.querySelector(".header__button").classList.remove("_not-active")}),1500),e>=5e3&&t<5&&(sessionStorage.setItem("lifes",t+1),c.textContent=e-5e3,sessionStorage.setItem("points",c.innerHTML),t>=4&&document.querySelector(".header__lifes").classList.add("_not-active")),5==t&&function(){let e=document.createElement("div");e.classList.add("header__message"),e.textContent="Max lifes is open - 5",document.querySelector(".header__lifes").append(e),setTimeout((()=>{e.remove()}),1500)}()}n.closest(".controls__button_left")&&(clearInterval(a),a=setInterval((()=>{L(),u%r==0||l[u-1].classList.contains("wall")||l[u-1].classList.contains("ghost-lair")||(u-=1),l[u].classList.add("pac-man-left"),m()}),500)),n.closest(".controls__button_top")&&(clearInterval(a),a=setInterval((()=>{L(),u-r>=0&&!l[u-r].classList.contains("wall")&&!l[u-r].classList.contains("ghost-lair")&&(u-=r),l[u].classList.add("pac-man-up"),m()}),500)),n.closest(".controls__button_right")&&(clearInterval(a),a=setInterval((()=>{L(),u%r<26&&!l[u+1].classList.contains("wall")&&!l[u+1].classList.contains("ghost-lair")&&(u+=1),l[u].classList.add("pac-man-right"),m()}),500)),n.closest(".controls__button_bottom")&&(clearInterval(a),a=setInterval((()=>{L(),u+r<729&&!l[u+r].classList.contains("wall")&&!l[u+r].classList.contains("ghost-lair")&&(u+=r),l[u].classList.add("pac-man-down"),m()}),500))}));const o=document.querySelector(".game__grid"),r=27;document.querySelector(".pac-man");let i;document.querySelector(".game_one")?i=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,8,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]:document.querySelector(".game_two")?i=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,9,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,8,0,0,0,0,0,0,1,3,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,3,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,9,0,0,0,1,0,0,0,0,9,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,9,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]:document.querySelector(".game_three")&&(i=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,8,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,5,0,0,0,0,0,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,8,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,1,9,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,1,7,7,7,7,7,1,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,1,0,1,7,7,7,7,7,1,0,1,0,0,0,0,0,0,9,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,5,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,9,0,1,1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,6,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]);const l=[];let d,u=418;function m(){!function(){if(l[u].classList.contains("pac-dot")){let e=document.querySelector(".header__count");e.textContent=+e.innerHTML+10,sessionStorage.setItem("points",e.innerHTML),l[u].classList.remove("pac-dot")}else if(l[u].classList.contains("pac-big-dot")){let e=document.querySelector(".header__count");e.textContent=+e.innerHTML+30,sessionStorage.setItem("points",e.innerHTML),l[u].classList.remove("pac-big-dot")}}(),function(){if(l[u].classList.contains("power-banan")||l[u].classList.contains("power-cherry")||l[u].classList.contains("power-lemon")){let e=document.querySelector(".header__count");e.textContent=+e.innerHTML+100,sessionStorage.setItem("points",e.innerHTML),d.forEach((e=>e.isScared=!0)),setTimeout((()=>{d.forEach((e=>e.isScared=!1))}),1e4),l[u].classList.contains("power-banan")?l[u].classList.remove("power-banan"):l[u].classList.contains("power-cherry")?l[u].classList.remove("power-cherry"):l[u].classList.contains("power-lemon")&&l[u].classList.remove("power-lemon")}}(),_(),function(){let e=document.querySelectorAll(".pac-big-dot"),t=document.querySelectorAll(".power-banan"),s=document.querySelectorAll(".power-cherry"),n=document.querySelectorAll(".power-lemon"),a=document.querySelectorAll(".power-slotmashine");0==e.length&&0==t.length&&0==s.length&&0==n.length&&0==a.length&&(d.forEach((e=>clearInterval(e.timerId))),document.querySelector(".play").classList.add("_active"))}()}function L(){l[u].classList.contains("pac-man-up")?l[u].classList.remove("pac-man-up"):l[u].classList.contains("pac-man-right")?l[u].classList.remove("pac-man-right"):l[u].classList.contains("pac-man-down")?l[u].classList.remove("pac-man-down"):l[u].classList.contains("pac-man-left")&&l[u].classList.remove("pac-man-left")}document.querySelector(".game")&&(!function(){for(let e=0;e<i.length;e++){const t=document.createElement("div");o.appendChild(t),l.push(t),0==i[e]?l[e].classList.add("pac-dot"):1==i[e]?l[e].classList.add("wall"):2==i[e]?l[e].classList.add("ghost-lair"):3==i[e]?l[e].classList.add("power-banan"):5==i[e]?l[e].classList.add("power-cherry"):6==i[e]?l[e].classList.add("pac-big-dot"):8==i[e]?l[e].classList.add("power-lemon"):9==i[e]&&l[e].classList.add("power-slotmashine")}}(),sessionStorage.setItem("game-lifes",sessionStorage.getItem("lifes")),l[u].classList.add("pac-man-right"));class g{constructor(e,t,s){this.className=e,this.startIndex=t,this.speed=s,this.currentIndex=t,this.timerId=NaN,this.isScared=!1}}function h(e){const t=[-1,1,r,-27];let s=t[Math.floor(Math.random()*(t.length-0)+0)];l[e.currentIndex].classList.remove("ghost"),l[e.currentIndex].classList.contains("blinky")&&l[e.currentIndex].classList.remove("blinky"),l[e.currentIndex].classList.contains("pinky")&&l[e.currentIndex].classList.remove("pinky"),l[e.currentIndex].classList.contains("inky")&&l[e.currentIndex].classList.remove("inky"),l[e.currentIndex].classList.contains("clyde")&&l[e.currentIndex].classList.remove("clyde"),e.timerId=setInterval((function(){if(l[e.currentIndex+s].classList.contains("wall")||l[e.currentIndex+s].classList.contains("ghost"))s=t[Math.floor(Math.random()*(t.length-0)+0)];else{l[e.currentIndex].classList.contains("_left")?l[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_left"):l[e.currentIndex].classList.contains("_right")?l[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_right"):l[e.currentIndex].classList.contains("_up")?l[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_up"):l[e.currentIndex].classList.contains("_down")&&l[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_down");let t=s;e.currentIndex+=t,-1==t?l[e.currentIndex].classList.add(e.className,"ghost","_left"):1==t?l[e.currentIndex].classList.add(e.className,"ghost","_right"):-27==t?l[e.currentIndex].classList.add(e.className,"ghost","_up"):t==r&&l[e.currentIndex].classList.add(e.className,"ghost","_down")}e.isScared&&l[e.currentIndex].classList.add("scared-ghost"),(e.isScared&&l[e.currentIndex].classList.contains("pac-man-left")||l[e.currentIndex].classList.contains("pac-man-right")||l[e.currentIndex].classList.contains("pac-man-up")&&l[e.currentIndex].classList.contains("pac-man-down"))&&(l[e.currentIndex].classList.contains("_left")?l[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_left"):l[e.currentIndex].classList.contains("_right")?l[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_right"):l[e.currentIndex].classList.contains("_up")?l[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_up"):l[e.currentIndex].classList.contains("_down")&&l[e.currentIndex].classList.remove(e.className,"ghost","scared-ghost","_down"),e.currentIndex=e.startIndex,l[e.currentIndex].classList.add(e.className,"ghost","_left")),_()}),e.speed)}function _(){if(l[u].classList.contains("ghost")&&!l[u].classList.contains("scared-ghost")){d.forEach((e=>clearInterval(e.timerId))),L(),clearInterval(a),document.querySelector(".controls__buttons").classList.add("_not-active");let e=+sessionStorage.getItem("game-lifes");e<=0&&document.querySelector(".loose").classList.add("_active"),e--,document.querySelectorAll(".info__heart").forEach(((t,s)=>{s==e&&t.classList.add("_hide")})),sessionStorage.setItem("game-lifes",e),setTimeout((()=>{l[418].classList.add("pac-man-right"),u=418,document.querySelector(".controls__buttons").classList.remove("_not-active")}),1e3),setTimeout((()=>{d.forEach((e=>h(e)))}),3e3)}}document.querySelector(".game_one")?d=[new g("blinky",252,300),new g("pinky",29,400)]:document.querySelector(".game_two")?d=[new g("blinky",252,250),new g("pinky",29,400),new g("inky",500,300)]:document.querySelector(".game_three")&&(d=[new g("blinky",252,250),new g("pinky",29,350),new g("inky",500,250),new g("clyde",535,250)]),document.querySelector(".game")&&(d.forEach((e=>{l[e.currentIndex].classList.add(e.className),l[e.currentIndex].classList.add("ghost")})),d.forEach((e=>h(e))),sessionStorage.getItem("lifes")>3&&document.querySelector(".info__hearts").classList.add("_small"),3==sessionStorage.getItem("lifes")?n.forEach(((e,t)=>{t<=2&&e.classList.add("_visible")})):4==sessionStorage.getItem("lifes")&&n.forEach(((e,t)=>{t<=3&&e.classList.add("_visible")})),5==sessionStorage.getItem("lifes")&&n.forEach(((e,t)=>{t<=4&&e.classList.add("_visible")}))),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();